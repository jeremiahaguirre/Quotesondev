!function(e){let o="";e(window).on("popstate",function(){window.location.replace(o)}),e("#new-quote").on("click",function(t){t.preventDefault(),o=document.URL,e.ajax({method:"GET",url:red_vars.rest_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",red_vars.wpapi_nonce)}}).done(function(o){e(".entry-header").html(o[0].content.rendered),e(".entry-title").html(`<h2 class="entry-title">&#8211; ${o[0].title.rendered}</h2>`),o[0]._qod_quote_source.length>0&&o[0]._qod_quote_source_url.length>0?e(".source").html(`<a href="${o[0]._qod_quote_source_url}">${o[0]._qod_quote_source}</a>`):o[0]._qod_quote_source.length>0&&0===o[0]._qod_quote_source_url.length&&e(".source").html(o[0]._qod_quote_source);const t=red_vars.home_url+"/"+o[0].slug;history.pushState(null,null,t)})}),e("#form").on("submit",function(o){o.preventDefault();const t={title:e("#author").val(),content:e("#quote").val(),_qod_quote_source:e("#source").val(),_qod_quote_source_url:e("#url").val()};e.ajax({method:"post",url:red_vars.rest_url+"wp/v2/posts/",data:t,beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",red_vars.wpapi_nonce)}}).done(function(){console.log("success"),e("#form").slideUp("slow",function(){e("#submit").html("Your form has been submitted")})}).fail(function(){alert("There was an error")})})}(jQuery);